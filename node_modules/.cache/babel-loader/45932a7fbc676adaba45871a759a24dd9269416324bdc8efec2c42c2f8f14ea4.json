{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Leonardo\\\\Desktop\\\\cadastro\\\\src\\\\pages\\\\conta_bancaria\\\\Cadastro.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Grid from '@mui/material/Grid';\nimport Menu from \"./../../components/Menu\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport FormContaBancaria from \"../../components/forms/FormContaBancaria\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  conta_bancaria: {\n    nome: '',\n    saldo: ''\n  },\n  menuOpen: false\n};\nconst CadastroContaBancaria = () => {\n  _s();\n  const [state, setState] = useState({\n    ...initialState\n  });\n  const navigate = useNavigate();\n  const {\n    conta_bancaria_id\n  } = useParams();\n  const updateContaBancaria = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    let {\n      conta_bancaria\n    } = state;\n    conta_bancaria[name] = value;\n    setState(prevState => ({\n      ...prevState,\n      conta_bancaria\n    }));\n  };\n  const validarCampos = conta_bancaria => {\n    if (conta_bancaria.nome === \"\" || conta_bancaria.saldo === \"\") {\n      return false;\n    }\n    return true;\n  };\n  const getConfig = () => {\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    };\n    return config;\n  };\n  const salvarContaBancaria = async () => {\n    try {\n      let {\n        conta_bancaria\n      } = state;\n      if (!validarCampos(conta_bancaria)) {\n        alert('Preencher todos os campos');\n        return false;\n      }\n      if (!conta_bancaria_id) {\n        await axios.post(\"http://localhost:3333/conta_bancaria\", conta_bancaria, getConfig());\n      } else {\n        await axios.put(`http://localhost:3333/conta_bancaria/${conta_bancaria_id}`, conta_bancaria, getConfig());\n      }\n      setState(prevState => ({\n        ...prevState,\n        conta_bancaria: {\n          nome: '',\n          saldo: ''\n        }\n      }));\n      alert(\"Conta cadastrada com sucesso\");\n      navigate(\"/listagemContaBancaria\");\n    } catch (error) {\n      console.log(error);\n      alert(\"erro ao cadastrar\");\n    }\n  };\n  const abrirFecharMenu = () => {\n    setState(prevState => ({\n      ...prevState,\n      menuOpen: !state.menuOpen\n    }));\n  };\n  useEffect(() => {\n    const fetchData = async () => {\n      if (conta_bancaria_id) {\n        let {\n          data: conta_bancaria\n        } = await axios.get(`http://localhost:3333/conta_bancaria/${conta_bancaria_id}`, getConfig());\n        delete conta_bancaria.criado_em;\n        delete conta_bancaria.alterado_em;\n        setState(prevState => ({\n          ...prevState,\n          conta_bancaria\n        }));\n      } else {\n        setState(prevState => ({\n          ...prevState,\n          conta_bancaria: {\n            nome: '',\n            saldo: ''\n          }\n        }));\n      }\n    };\n    fetchData();\n  }, [navigate, conta_bancaria_id]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: \"100%\",\n      padding: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(Menu, {\n      tela: \"Cadastro de Contas Bancarias\",\n      menuOpen: state.menuOpen,\n      abrirFecharMenu: () => abrirFecharMenu()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 1,\n      direction: \"row\",\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        md: 12,\n        sm: 6,\n        xs: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormContaBancaria, {\n      dados: state.conta_bancaria,\n      updateField: e => updateContaBancaria(e),\n      salvarContaBancaria: () => salvarContaBancaria(),\n      conta_bancaria_id: conta_bancaria_id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n};\n_s(CadastroContaBancaria, \"Py2DbUSZ6Ik9ba+kYy93edGJlGo=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = CadastroContaBancaria;\nexport default CadastroContaBancaria;\nvar _c;\n$RefreshReg$(_c, \"CadastroContaBancaria\");","map":{"version":3,"names":["React","useState","useEffect","Grid","Menu","useNavigate","useParams","axios","FormContaBancaria","jsxDEV","_jsxDEV","initialState","conta_bancaria","nome","saldo","menuOpen","CadastroContaBancaria","_s","state","setState","navigate","conta_bancaria_id","updateContaBancaria","event","name","value","target","prevState","validarCampos","getConfig","config","headers","salvarContaBancaria","alert","post","put","error","console","log","abrirFecharMenu","fetchData","data","get","criado_em","alterado_em","style","width","padding","children","tela","fileName","_jsxFileName","lineNumber","columnNumber","container","spacing","direction","item","md","sm","xs","dados","updateField","e","_c","$RefreshReg$"],"sources":["C:/Users/Leonardo/Desktop/cadastro/src/pages/conta_bancaria/Cadastro.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Grid from '@mui/material/Grid';\r\nimport Menu from \"./../../components/Menu\"\r\nimport { useNavigate, useParams } from \"react-router-dom\"\r\nimport axios from \"axios\";\r\nimport FormContaBancaria from \"../../components/forms/FormContaBancaria\";\r\n\r\nconst initialState = {\r\n  conta_bancaria: {\r\n    nome: '',\r\n    saldo: ''\r\n  },\r\n  menuOpen: false\r\n}\r\n\r\nconst CadastroContaBancaria = () => {\r\n  const [state, setState] = useState({ ...initialState })\r\n  const navigate = useNavigate()\r\n  const { conta_bancaria_id } = useParams()\r\n\r\n  const updateContaBancaria = (event) => {\r\n    const { name, value } = event.target\r\n    let { conta_bancaria } = state\r\n\r\n    conta_bancaria[name] = value\r\n    setState((prevState) => ({ ...prevState, conta_bancaria }))\r\n  }\r\n\r\n  const validarCampos = (conta_bancaria) => {\r\n    if (conta_bancaria.nome === \"\" || conta_bancaria.saldo === \"\") {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  const getConfig = () => {\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json'\r\n      }\r\n    }\r\n\r\n    return config\r\n  }\r\n\r\n  const salvarContaBancaria = async () => {\r\n    try {\r\n      let { conta_bancaria } = state\r\n      \r\n      if (!validarCampos(conta_bancaria)) {\r\n        alert('Preencher todos os campos')\r\n        return false\r\n      }\r\n\r\n      if (!conta_bancaria_id) {\r\n        await axios.post(\"http://localhost:3333/conta_bancaria\", conta_bancaria, getConfig())\r\n      }else{\r\n        await axios.put(`http://localhost:3333/conta_bancaria/${conta_bancaria_id}`, conta_bancaria, getConfig())\r\n      }\r\n\r\n      setState((prevState) => ({\r\n        ...prevState,\r\n        conta_bancaria: {\r\n          nome: '',\r\n          saldo: ''\r\n        }\r\n      }))\r\n      alert(\"Conta cadastrada com sucesso\")\r\n      navigate(\"/listagemContaBancaria\")\r\n\r\n    } catch (error) {\r\n      console.log(error)\r\n      alert(\"erro ao cadastrar\")\r\n    }\r\n  }\r\n\r\n  const abrirFecharMenu = () => {\r\n    setState((prevState) => ({\r\n      ...prevState,\r\n      menuOpen: !state.menuOpen\r\n    }))\r\n  }\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      if (conta_bancaria_id) {\r\n        let { data: conta_bancaria } = await axios.get(`http://localhost:3333/conta_bancaria/${conta_bancaria_id}`, getConfig())\r\n\r\n        delete conta_bancaria.criado_em \r\n        delete conta_bancaria.alterado_em\r\n\r\n        setState((prevState) => ({\r\n          ...prevState,\r\n          conta_bancaria\r\n        }))\r\n      }else{\r\n        setState((prevState) => ({\r\n          ...prevState,\r\n          conta_bancaria: {\r\n            nome: '',\r\n            saldo: ''\r\n          }\r\n        }))\r\n      }\r\n    }\r\n\r\n    fetchData()\r\n\r\n  }, [navigate, conta_bancaria_id])\r\n\r\n  return (\r\n    <div style={{ width: \"100%\", padding: 20 }}>\r\n      <Menu tela=\"Cadastro de Contas Bancarias\" menuOpen={state.menuOpen} abrirFecharMenu={() => abrirFecharMenu()} />\r\n      <Grid container spacing={1} direction=\"row\">\r\n        <Grid item md={12} sm={6} xs={1}>\r\n        </Grid>\r\n      </Grid>\r\n      <FormContaBancaria dados={state.conta_bancaria} updateField={(e) => updateContaBancaria(e)} salvarContaBancaria={() => salvarContaBancaria()} conta_bancaria_id={conta_bancaria_id} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CadastroContaBancaria    "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}